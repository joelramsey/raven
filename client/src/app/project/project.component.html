<div *ngIf="!newSourceVisible">

  <div class="flex-between">
    <rvn-sources-list [sources]="project.sources"
                      [showAdd]="true"
                      [showIcons]="true"
                      [showVisibilityIcons]="true"
                      [showNoSourcesMessage]="showNoSourcesMessage && !project.sources?.length"
                      (pillClicked)="toggleVisibility($event)"
                      (addSourceClicked)="showNewSource()"></rvn-sources-list>


    <button md-button
            *ngIf="!exporting"
            [mdTooltip]="'Export'"
            mdTooltipPosition="below"
            class="project-button"
            type="button"
            (click)="exportProject()">
      <md-icon>file_download</md-icon>
    </button>

    <div *ngIf="exporting" class="export-block">
      <md-spinner class="medium"></md-spinner>
      <span>Exporting...</span>
    </div>

    <a class="export-link" target="_blank" #exportLink></a>
  </div>

  <div class="project-view-wrapper">
    <rvn-project-view [project]="project"
                      [visibleSources]="visibleSources"></rvn-project-view>
  </div>
</div>
